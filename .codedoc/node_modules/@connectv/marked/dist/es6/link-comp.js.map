{"version":3,"file":"link-comp.js","sourceRoot":"","sources":["../../src/link-comp.tsx"],"names":[],"mappings":"AAWA,MAAM,UAAU,gBAAgB,CAAC,GAAiB;IAChD,OAAO,UAAS,OAAoB,EAAE,QAAwC,EAAE,OAAgB;QAC9F,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;YAC3D,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,IAAI,IAAI,GAAG,EAAE;gBACf,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;gBACvB,MAAM,KAAK,GAAG,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;oBACpE,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACrC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK;wBAClB,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;oBACnC,OAAO,KAAK,CAAC;gBACf,CAAC,EAAE,EAA8B,CAAC,CAAC;gBAEnC,OAAO,gBAAC,IAAI,oBAAK,KAAK,GAAG,OAAO,CAAQ,CAAC;aAC1C;iBACI;gBACH,MAAM,IAAI,KAAK,CAAC,kCAAkC,GAAG,IAAI,CAAC,CAAC;aAC5D;SACF;;YACI,OAAO,uCAAO,OAAO,GAAG,OAAO,CAAK,CAAA;IAC3C,CAAC,CAAA;AACH,CAAC","sourcesContent":["import { RendererLike } from '@connectv/html';\n\nimport { ComponentMap } from './comp-map';\n\n\nexport interface LinkOptions {\n  href: string;\n  title: string;\n}\n\n\nexport function linkedComponents(map: ComponentMap) {\n  return function(options: LinkOptions, renderer: RendererLike<unknown, unknown>, content: unknown) {\n    if (options && options.href && options.href.startsWith(':')) {\n      const name = options.href.substr(1);\n      if (name in map) {\n        const Comp = map[name];\n        const props = (options.title || '').split(',').reduce((props, part) => {\n          const [key, value] = part.split('=');\n          if (!!key && !!value)\n            props[key.trim()] = value.trim();\n          return props;\n        }, {} as {[prop: string]: string});\n\n        return <Comp {...props}>{content}</Comp>;\n      }\n      else {\n        throw new Error('Unrecognized Linked Component:: ' + name);\n      }\n    }\n    else return <a {...options}>{content}</a>\n  }\n}"]}