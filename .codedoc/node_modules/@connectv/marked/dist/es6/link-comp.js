export function linkedComponents(map) {
    return function (options, renderer, content) {
        if (options && options.href && options.href.startsWith(':')) {
            const name = options.href.substr(1);
            if (name in map) {
                const Comp = map[name];
                const props = (options.title || '').split(',').reduce((props, part) => {
                    const [key, value] = part.split('=');
                    if (!!key && !!value)
                        props[key.trim()] = value.trim();
                    return props;
                }, {});
                return renderer.create(Comp, Object.assign({}, props), content);
            }
            else {
                throw new Error('Unrecognized Linked Component:: ' + name);
            }
        }
        else
            return renderer.create("a", Object.assign({}, options), content);
    };
}
//# sourceMappingURL=link-comp.js.map